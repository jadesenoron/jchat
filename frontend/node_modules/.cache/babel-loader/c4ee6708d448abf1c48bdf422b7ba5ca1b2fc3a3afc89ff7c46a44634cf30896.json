{"ast":null,"code":"import _objectSpread from\"/workspaces/jchat/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspaces/jchat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import ChatContact from'./ChatContact';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ChatContactGroup(_ref){var _ref$data=_ref.data,data=_ref$data===void 0?[]:_ref$data,_ref$onSelect=_ref.onSelect,onSelect=_ref$onSelect===void 0?console.log:_ref$onSelect,_ref$initialSelectedI=_ref.initialSelectedIndex,initialSelectedIndex=_ref$initialSelectedI===void 0?-1:_ref$initialSelectedI;var _useState=useState(initialSelectedIndex),_useState2=_slicedToArray(_useState,2),selectedIndex=_useState2[0],setSelectedIndex=_useState2[1];var _useState3=useState(data instanceof Array?data:[]),_useState4=_slicedToArray(_useState3,2),selectedData=_useState4[0],setSelectedData=_useState4[1];useEffect(function(){setSelectedData(data instanceof Array?data:[]);},[data]);useEffect(function(){setSelectedIndex(initialSelectedIndex);},[initialSelectedIndex]);var handleClick=function handleClick(_ref2){var chatid=_ref2.chatid,username=_ref2.username,name=_ref2.name,aboutme=_ref2.aboutme,isonline=_ref2.isonline,index=_ref2.index;if(!chatid){// use username instead\nsetSelectedIndex(-1);onSelect({username:username,name:name,aboutme:aboutme,isonline:isonline});}else{setSelectedIndex(index);onSelect({chatid:chatid,username:username,name:name,aboutme:aboutme,isonline:isonline,index:index});}};return/*#__PURE__*/_jsx(_Fragment,{children:selectedData&&selectedData.length>0?selectedData.map(function(v,i){return/*#__PURE__*/_jsx(ChatContact,_objectSpread({\"data-index\":i,selected:i===selectedIndex,chatid:v.chatid,username:v.username,name:v.name,time:v.time?new Date(v.time):undefined,message:v.message,profilephoto:v.profilephoto,isonline:v.isonline===true,aboutme:v.aboutme,onClick:function onClick(){return handleClick({chatid:v.chatid,username:v.username,name:v.name,aboutme:v.aboutme,isonline:v.isonline===true,index:i});}},v),\"chat_contact_\".concat(i));}):/*#__PURE__*/_jsx(\"div\",{className:\"text-white d-flex justify-content-center align-items-center vh-100 h6\",children:\"Search users to start chating.\"})});}","map":{"version":3,"names":["useState","useEffect","ChatContact","jsx","_jsx","Fragment","_Fragment","ChatContactGroup","_ref","_ref$data","data","_ref$onSelect","onSelect","console","log","_ref$initialSelectedI","initialSelectedIndex","_useState","_useState2","_slicedToArray","selectedIndex","setSelectedIndex","_useState3","Array","_useState4","selectedData","setSelectedData","handleClick","_ref2","chatid","username","name","aboutme","isonline","index","children","length","map","v","i","_objectSpread","selected","time","Date","undefined","message","profilephoto","onClick","concat","className"],"sources":["/workspaces/jchat/frontend/src/components/ChatContact/ChatContactGroup.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport ChatContact from './ChatContact'\r\n\r\nexport default function ChatContactGroup({ data=[], onSelect=console.log, initialSelectedIndex=-1 }) {\r\n  const [selectedIndex, setSelectedIndex] = useState(initialSelectedIndex)\r\n  const [selectedData, setSelectedData] = useState(data instanceof Array ? data : [])\r\n\r\n  useEffect(() => {\r\n    setSelectedData(data instanceof Array ? data : [])\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    setSelectedIndex(initialSelectedIndex)\r\n  }, [initialSelectedIndex])\r\n\r\n  const handleClick = ({ chatid, username, name, aboutme, isonline, index }) => {\r\n    if (!chatid) {\r\n      // use username instead\r\n      setSelectedIndex(-1)\r\n      onSelect({username, name, aboutme, isonline})\r\n    } else {\r\n      setSelectedIndex(index)\r\n      onSelect({chatid, username, name, aboutme, isonline, index})\r\n    }\r\n  }\r\n  return (<>\r\n    { selectedData && selectedData.length > 0 ?\r\n      selectedData.map((v, i) => <ChatContact key={`chat_contact_${i}`} data-index={i} selected={i === selectedIndex} chatid={v.chatid} username={v.username} name={v.name} time={v.time ? new Date(v.time) : undefined} message={v.message} profilephoto={v.profilephoto} isonline={v.isonline === true} aboutme={v.aboutme} onClick={() => handleClick({chatid: v.chatid, username: v.username, name: v.name, aboutme: v.aboutme, isonline: v.isonline === true, index: i})} {...v} />)\r\n      : <div className=\"text-white d-flex justify-content-center align-items-center vh-100 h6\">Search users to start chating.</div> }\r\n  </>)\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}